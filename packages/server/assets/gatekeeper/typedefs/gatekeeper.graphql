extend type Query {
  workspacePricingPlans: JSONObject!
}

extend type WorkspaceMutations {
  billing: WorkspaceBillingMutations! @hasScope(scope: "workspace:billing")
}

enum PaidWorkspacePlans {
  team
  pro
  business
}

enum BillingInterval {
  monthly
  yearly
}

enum SessionPaymentStatus {
  paid
  unpaid
}

input CheckoutSessionInput {
  workspaceId: ID!
  workspacePlan: PaidWorkspacePlans!
  billingInterval: BillingInterval!
}

type CheckoutSession {
  id: ID!
  url: String!
  workspacePlan: PaidWorkspacePlans!
  paymentStatus: SessionPaymentStatus!
  billingInterval: BillingInterval!
  createdAt: DateTime!
  updatedAt: DateTime!
}

input CancelCheckoutSessionInput {
  sessionId: ID!
  workspaceId: ID!
}

type WorkspaceBillingMutations {
  createCheckoutSession(input: CheckoutSessionInput!): CheckoutSession!
  cancelCheckoutSession(input: CancelCheckoutSessionInput!): Boolean!
}
